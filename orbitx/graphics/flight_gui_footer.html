<!-- This file is inserted as-is into the sidebar's HTML by FlightGui -->
<!-- vpython is a bit weird about file paths, so it's probably not a simple
     thing to split out the CSS and JS code in this file to separate files, and
     then include them. It's simpler, unfortunately, to keep everything in
     one file, like so. -->
<input type="checkbox" id="helptext_checkbox" onClick="show_hide_help()"> Help text

<table class="helptext">
    <caption>Input Cheatsheet</caption>
    <tr>
        <th>Input</th>
        <th>Action</th>
    </tr>
    <tr>
        <td>Scroll, or ALT/OPTION-drag &nbsp</td>
        <td>Zoom View</td>
    </tr>
    <tr>
        <td>Ctrl-Click</td>
        <td>Rotate View</td>
    </tr>
    <tr>
        <td>w/s</td>
        <td>Throttle Up/Down (press shift for fine control)</td>
    </tr>
    <tr>
        <td>Enter</td>
        <td>Set engines to 100%</td>
    </tr>
    <tr>
        <td>Backspace</td>
        <td>Set engines to 0%</td>
    </tr>
    <tr>
        <td>a/d</td>
        <td>Rotate Habitat (press shift for fine control)</td>
    </tr>
    <tr>
        <td>l</td>
        <td>Toggle labels</td>
    </tr>
    <tr>
        <td>. or ,</td>
        <td>Increase or decrease time acceleration</td>
    </tr>
    <tr>
        <td>p</td>
        <td>Pause simulation</td>
    </tr>
</table>

<script>
function find_stylesheet(sheetname) {
    styleSheets = document.styleSheets;
    for (i = 0; i < styleSheets.length; ++i) {
        if (styleSheets[i].title == sheetname) {
            return styleSheets[i]
        }
    }
}

function show_hide_help() {
    // If helptext is enabled, we have to "disable disabling it."
    find_stylesheet("disable_helptext").disabled =
        document.getElementById("helptext_checkbox").checked
}

// Keep inputs deselected, so that keyboard input doesn't interfere with them.
for (var inp of document.querySelectorAll("input,select")) {
    inp.onchange = function(){this.blur()};
}
</script>

<style title="disable_helptext">
.helptext {
    display: none;
}
</style>

<style>
body {
    background-color: black;
    color: white;
}

.ui-resizable-handle {
    /* hides the resize bars on the edges of canvases */
    background-image: none;
}

canvas {
    border-color: white;
}

table {
    margin-top: 1em;
    margin-bottom: 1em;
    height: 30%;
    border-collapse: collapse;
    border-style: none;
}

th {
    text-align: left;
    border-collapse: collapse;
    height: 50px;
}

tr.newsection {
    border-top-style: solid;
    border-top-width: thin;
    border-top-color: white;
}

td {
    width: 10em;
    padding: 4px
}
td.num {
    font-family: monospace;
    font-weight: bold;
    width: 70%;
}

select {
    width: 100px;
}
input[type=checkbox] {
    width: 20px !important;
    height: unset !important;
}
input[type=text] {
    /* vpython changes this colour when disabling/enabling. Don't let it. */
    color: initial !important;
}
span {
    /* vpython changes this colour when disabling/enabling. Don't let it. */
    color: white !important;
}

.helptext {
    font-size: 80%;
    font-stretch: condensed;
}

.code {
    font-family: monospace;
}
</style>

<script>
// Set placeholder text for save and load text boxes
text_inputs = document.querySelectorAll('input[type=text]');
text_inputs[0].placeholder = 'Pause sim to';
text_inputs[1].placeholder = 'save and load';

document.querySelector(
    '#pause_anchor + select').addEventListener('change',
        function (ev) {
            // When paused, remove the explanatory placeholder text.
            console.log(ev)
            console.log(ev.target)
            console.log(ev.target.value)
            if (ev.target.value == 'Pause') {
                console.log('debug')
                text_inputs[0].placeholder = 'Save...';
                text_inputs[1].placeholder = 'Load...';
            }
});
</script>